# 排程頁面實現檢查清單

## ✅ 已完成項目

### 核心功能
- [x] 建立 `src/pages/Scheduling.tsx` 組件
- [x] 實現機台×班別矩陣布局（4 機台 × 3 班別 = 12 個格子）
- [x] 創建 WorkOrder 數據模型
- [x] 實現工單卡片渲染（訂單號、產品、時間、進度、狀態）
- [x] 集成到主 App 路由（点擊側邊欄「生產排程」按鈕）

### UI/UX 功能
- [x] 排程工具列：日期選擇、視角切換按鈕、AI 重排按鈕
- [x] 左側欄篩選：按狀態篩選工單（全部/運行中/待機/已完成）
- [x] 圖例面板：狀態顏色說明
- [x] 工單卡片樣式：玻璃態態、發光邊框、狀態徽章
- [x] 響應式設計：移動設備上適配

### 設計一致性
- [x] 深色主題（與首頁、訂單頁一致）
- [x] 玻璃態態效應（blur、半透明背景）
- [x] 青紫漸層按鈕和進度條
- [x] 發光陰影效果（glow animation）
- [x] 懸停動畫（卡片浮起、按鈕亮度提升）

### 樣式集成
- [x] CSS 類添加到 `src/styles.css`
- [x] 格子佈局樣式
- [x] 卡片樣式和動畫
- [x] 工具列和側欄樣式
- [x] 移動設備媒體查詢

## ⏳ 待實現項目

### 拖曳排程（todo #8）
- [ ] 實現工單卡片的 HTML5 drag-and-drop
- [ ] 更新拖曳時的視覺反饋（cursor: grabbing）
- [ ] Drop 事件的工單重新分配邏輯
- [ ] 與 API 同步新的分配

### AI 重排算法（todo #9）
- [ ] 「重新排程 (AI)」按鈕的點擊事件
- [ ] 實現排序演算法（按交期、優先級排序）
- [ ] 模擬排程引擎邏輯
- [ ] 動畫展示排序結果

### 訂單視角（todo #9）
- [ ] 實現按訂單分組的視圖
- [ ] 切換 viewMode 的渲染邏輯
- [ ] 訂單分組樣式

### 後端整合（todo #10）
- [ ] 替換 mock data 為 API 呼叫
- [ ] WebSocket 連接實時排程更新
- [ ] 工單狀態同步
- [ ] 排程更新持久化

### RAG 助手整合（todo #11）
- [ ] 在排程頁面添加 RAG 查詢面板
- [ ] 實現上下文感知的建議功能
- [ ] 顯示排程衝突和最佳化建議

## 📊 現狀概要

| 組件 | 文件 | 狀態 |
|-----|------|------|
| 排程頁面 | `src/pages/Scheduling.tsx` | ✅ 完成 |
| CSS 樣式 | `src/styles.css` | ✅ 完成 |
| App 路由 | `src/App.tsx` | ✅ 已更新 |
| 開發伺服器 | localhost:51731 | ✅ 運行中 |

## 🧪 測試步驟

1. **訪問排程頁面**
   ```
   http://127.0.0.1:51731
   點擊左側「生產排程」按鈕
   ```

2. **驗證矩陣佈局**
   - 確認見 4 行（機台 1-4）、3 列（早班/午班/夜班）
   - 每個格子內顯示工單卡片

3. **驗證工單卡片**
   - 顯示訂單號（左上）
   - 顯示狀態徽章（右上，彩色）
   - 顯示產品代碼、時間、進度條

4. **驗證篩選功能**
   - 左側篩選「待機」，只顯示黃色狀態卡片
   - 篩選「運行中」，只顯示綠色卡片
   - 篩選「已完成」，只顯示藍色卡片

5. **驗證日期選擇**
   - 更改日期選擇器，日期應該更新（目前無 API 影響，但 UI 應回應）

6. **驗證按鈕功能**
   - 視角切換按鈕應更改樣式（待實現功能）
   - AI 重排按鈕應可點擊（待實現功能）

## 🎨 設計驗證檢清

- [x] 顏色符合深色主題（#0b1220 背景）
- [x] 卡片有半透明玻璃效果
- [x] 進度條有紫→青漸層
- [x] 狀態徽章顏色正確（綠/黃/藍）
- [x] 懸停時卡片浮起（視覺反饋）
- [x] 按鈕有發光效果
- [x] 側欄篩選項可互動
- [x] 響應式佈局適配小屏幕

## 📝 備註

- Mock 工單數據位於 `Scheduling.tsx` 的 `workOrders` 陣列
- 當前有 5 個示例工單分佈在不同機台/班別
- 拖曳功能的骨架已建立（setDraggedOrder 狀態），只需完成 drop 邏輯
- 視角切換按鈕已建立，只需實現視圖切換邏輯

## 🚀 後續優先順序

1. **立即** - 視覺驗證排程頁面是否如預期呈現
2. **本周** - 實現拖曳排程功能（todo #8）
3. **本周** - 實現 AI 重排邏輯（todo #9）
4. **下周** - 後端 API 整合（todo #10）
5. **下周** - RAG 助手集成（todo #11）
